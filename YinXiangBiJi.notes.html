<html>

<head>
  <title>双指针</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/605627 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;" />
  <meta name="content-class" content="maxiang" />
  <style>
    body,
    td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>

<body>
  <a name="7652" />

  <div><span lang="v2"
      style="color: #2c3f51; font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, Song, sans-serif; line-height: 1.6; background: none;"><del
        style="position:relative;display:block;z-index:10;"><a
          href="http://maxiang.io/#/?provider=evernote&amp;guid=44684d00-e3b8-46c2-bd4a-ea7949aa2839&amp;notebook=%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95"
          style="position: absolute;color: #FFF;text-decoration: none;font-size: 12px;height: 25px;border-radius: 0;margin-top: -20px;right: 15px;background: rgba(0, 0, 0, 0);border-left: 10px solid #BB3A34;border-right: 10px solid #BB3A34;border-bottom: 5px solid rgba(0, 0, 0, 0);width: 0;text-indent:-100000px;">Edit</a></del>
      <div
        style="color: #2c3f51; font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, Song, sans-serif; line-height: 1.6;">



        <h1
          style="font-size: 41.6px; margin: 1.2em 0 .6em 0; font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; text-align: start;">
          算法–双指针</h1>

        <p style="margin: 0 0 1.1em; line-height: 1.6;"></p>
        <p style="margin: 0 0 1.1em; color: rgba(44,63,81,0.3); line-height: 1.6;"><code
            style="font-family: 'Source Code Pro',Consolas,monospace; font-size: .9em; background-color: #f9f2f4; white-space: normal; padding: 2px 5px; border-radius: 0; color: #fff; background: rgba(44,63,81,0.3); margin-right: 6px;">前端面试</code>
          <code
            style="font-family: 'Source Code Pro',Consolas,monospace; font-size: .9em; background-color: #f9f2f4; white-space: normal; padding: 2px 5px; color: rgba(44,63,81,0.5); border-radius: 0; background: rgba(102,128,153,0.075);">面试</code>
          <code
            style="font-family: 'Source Code Pro',Consolas,monospace; font-size: .9em; background-color: #f9f2f4; white-space: normal; padding: 2px 5px; color: rgba(44,63,81,0.5); border-radius: 0; background: rgba(102,128,153,0.075);">字符串</code>
        </p>
        <p style="margin: 0 0 1.1em; line-height: 1.6;"></p>



        <h3
          style="font-family: inherit; font-weight: bold; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 27.2px; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;">
          移除元素</h3>



        <p style="margin: 0 0 1.1em; line-height: 1.6;"><img
            src="https://raw.githubusercontent.com/wangyongalive/note/main/YinXiangBiJi.notes_files/.1635259696951.png"
            type="image/png" data-filename=".1635259696951.png" alt="Alt text" longdesc="./1635259696951.png"
            style="border: 0; vertical-align: middle; max-width: 100%;" title="" /></p>

        <p style="margin: 0 0 1.1em; line-height: 1.6;"><img
            src="https://raw.githubusercontent.com/wangyongalive/note/main/YinXiangBiJi.notes_files/.1635259676712.png"
            type="image/png" data-filename=".1635259676712.png" alt="Alt text" longdesc="./1635259676712.png"
            style="border: 0; vertical-align: middle; max-width: 100%;" title="" /></p>

        <pre
          style="font-family: 'Source Code Pro',Consolas,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: 'Source Code Pro',Consolas,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; overflow-x: auto; background: #23241f; padding: 1.3em 2em;"><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #75715e; background-color: transparent;">/**</span>
</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #75715e; background-color: transparent;"> * @param {number[]} nums</span>
</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #75715e; background-color: transparent;"> * @param {number} val</span>
</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #75715e; background-color: transparent;"> * @return {number}</span>
</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #75715e; background-color: transparent;"> */</span>
</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #75715e; background-color: transparent;">//时间复杂度O(n)</span>
</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #75715e; background-color: transparent;">//空间复杂度O(1)</span>
</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">var</span> removeElement = <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">(<span style="display: inline; line-height: 1.6; color: #f8f8f2; background-color: transparent;">nums, val</span>) =&gt;</span> {
</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">let</span> k = <span style="display: inline; line-height: 1.6; color: #ae81ff; background-color: transparent;">0</span>;
</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">for</span>(<span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">let</span> i = <span style="display: inline; line-height: 1.6; color: #ae81ff; background-color: transparent;">0</span>;i &lt; nums.length;i++){
</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">        <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">if</span>(nums[i] != val){
</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">            nums[k++] = nums[i]
</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">        }
</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    }
</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">return</span> k;
</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">};
</div></code></pre>



        <h1
          style="font-size: 41.6px; margin: 1.2em 0 .6em 0; font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; text-align: start;">
          双指针总结</h1>

        <blockquote
          style="padding: 15px 20px; margin: 0 0 1.1em; border-left: 5px solid rgba(102,128,153,0.075); border-left-width: 10px; background-color: rgba(102,128,153,0.05); border-top-right-radius: 5px; border-bottom-right-radius: 5px;">
          <p style="margin: 0 0 1.1em; font-size: 1em; font-weight: 300; margin-bottom: 0; line-height: 1.6;">又是一波总结</p>
        </blockquote>

        <p style="margin: 0 0 1.1em; line-height: 1.6;">
          相信大家已经对双指针法很熟悉了，但是双指针法并不隶属于某一种数据结构，我们在讲解数组，链表，字符串都用到了双指针法，所有有必要针对双指针法做一个总结。 </p>

        <h1
          style="font-size: 41.6px; margin: 1.2em 0 .6em 0; font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; text-align: start;">
          数组篇</h1>

        <p style="margin: 0 0 1.1em; line-height: 1.6;">在<a href="https://programmercarl.com/0027.移除元素.html"
            style="background: transparent; color: #1980e6; text-decoration: none;"
            target="_blank">数组：就移除个元素很难么？</a>中，原地移除数组上的元素，我们说到了数组上的元素，不能真正的删除，只能覆盖。 </p>

        <p style="margin: 0 0 1.1em; line-height: 1.6;">一些同学可能会写出如下代码（伪代码）：</p>



        <pre
          style="font-family: 'Source Code Pro',Consolas,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: 'Source Code Pro',Consolas,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; overflow-x: auto; background: #23241f; padding: 1.3em 2em;"><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">for</span> (<span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">int</span> i = <span style="display: inline; line-height: 1.6; color: #ae81ff; background-color: transparent;">0</span>; i &lt; <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">array</span>.<span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">size</span>(); i++) {
</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    <span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">if</span> (<span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">array</span>[i] == target) {
</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">        <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">array</span>.erase(i);
</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    }
</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">}
</div></code></pre>

        <p style="margin: 0 0 1.1em; line-height: 1.6;">这个代码看上去好像是O(n)的时间复杂度，其实是O(n^2)的时间复杂度，因为erase操作也是O(n)的操作。</p>

        <p style="margin: 0 0 1.1em; line-height: 1.6;">所以此时使用双指针法才展现出效率的优势：<strong
            style="font-weight: bold; line-height: 1.6;">通过两个指针在一个for循环下完成两个for循环的工作。</strong> </p>



        <h1
          style="font-size: 41.6px; margin: 1.2em 0 .6em 0; font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; text-align: start;">
          字符串篇</h1>

        <p style="margin: 0 0 1.1em; line-height: 1.6;">在<a href="https://programmercarl.com/0344.反转字符串.html"
            style="background: transparent; color: #1980e6; text-decoration: none;"
            target="_blank">字符串：这道题目，使用库函数一行代码搞定</a>中讲解了反转字符串，注意这里强调要原地反转，要不然就失去了题目的意义。</p>

        <p style="margin: 0 0 1.1em; line-height: 1.6;">使用双指针法，<strong
            style="font-weight: bold; line-height: 1.6;">定义两个指针（也可以说是索引下表），一个从字符串前面，一个从字符串后面，两个指针同时向中间移动，并交换元素。</strong>，时间复杂度是O(n)。
        </p>

        <p style="margin: 0 0 1.1em; line-height: 1.6;">在<a href="https://programmercarl.com/剑指Offer05.替换空格.html"
            style="background: transparent; color: #1980e6; text-decoration: none;" target="_blank">替换空格</a>
          中介绍使用双指针填充字符串的方法，如果想把这道题目做到极致，就不要只用额外的辅助空间了！</p>

        <p style="margin: 0 0 1.1em; line-height: 1.6;">思路就是<strong
            style="font-weight: bold; line-height: 1.6;">首先扩充数组到每个空格替换成”%20”之后的大小。然后双指针从后向前替换空格。</strong></p>

        <p style="margin: 0 0 1.1em; line-height: 1.6;">有同学问了，为什么要从后向前填充，从前向后填充不行么？</p>

        <p style="margin: 0 0 1.1em; line-height: 1.6;">从前向后填充就是O(n^2)的算法了，因为每次添加元素都要将添加元素之后的所有元素向后移动。</p>

        <p style="margin: 0 0 1.1em; line-height: 1.6;"><strong
            style="font-weight: bold; line-height: 1.6;">其实很多数组（字符串）填充类的问题，都可以先预先给数组扩容带填充后的大小，然后在从后向前进行操作。</strong> </p>

        <p style="margin: 0 0 1.1em; line-height: 1.6;">那么在<a href="https://programmercarl.com/0151.翻转字符串里的单词.html"
            style="background: transparent; color: #1980e6; text-decoration: none;"
            target="_blank">字符串：花式反转还不够！</a>中，我们使用双指针法，用O(n)的时间复杂度完成字符串删除类的操作，因为题目要产出冗余空格。</p>

        <p style="margin: 0 0 1.1em; line-height: 1.6;"><strong
            style="font-weight: bold; line-height: 1.6;">在删除冗余空格的过程中，如果不注意代码效率，很容易写成了O(n^2)的时间复杂度。其实使用双指针法O(n)就可以搞定。</strong>
        </p>

        <p style="margin: 0 0 1.1em; line-height: 1.6;"><strong
            style="font-weight: bold; line-height: 1.6;">主要还是大家用erase用的比较随意，一定要注意for循环下用erase的情况，一般可以用双指针写效率更高！</strong>
        </p>



        <h1
          style="font-size: 41.6px; margin: 1.2em 0 .6em 0; font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; text-align: start;">
          链表篇</h1>

        <p style="margin: 0 0 1.1em; line-height: 1.6;">翻转链表是现场面试，白纸写代码的好题，考察了候选者对链表以及指针的熟悉程度，而且代码也不长，适合在白纸上写。</p>

        <p style="margin: 0 0 1.1em; line-height: 1.6;">在<a href="https://programmercarl.com/0206.翻转链表.html"
            style="background: transparent; color: #1980e6; text-decoration: none;"
            target="_blank">链表：听说过两天反转链表又写不出来了？</a>中，讲如何使用双指针法来翻转链表，<strong
            style="font-weight: bold; line-height: 1.6;">只需要改变链表的next指针的指向，直接将链表反转 ，而不用重新定义一个新的链表。</strong> </p>

        <p style="margin: 0 0 1.1em; line-height: 1.6;">思路还是很简单的，代码也不长，但是想在白纸上一次性写出bugfree的代码，并不是容易的事情。</p>

        <p style="margin: 0 0 1.1em; line-height: 1.6;">在链表中求环，应该是双指针在链表里最经典的应用，在<a
            href="https://programmercarl.com/0142.环形链表II.html"
            style="background: transparent; color: #1980e6; text-decoration: none;"
            target="_blank">链表：环找到了，那入口呢？</a>中讲解了如何通过双指针判断是否有环，而且还要找到环的入口。</p>

        <p style="margin: 0 0 1.1em; line-height: 1.6;"><strong
            style="font-weight: bold; line-height: 1.6;">使用快慢指针（双指针法），分别定义 fast 和
            slow指针，从头结点出发，fast指针每次移动两个节点，slow指针每次移动一个节点，如果 fast 和 slow指针在途中相遇 ，说明这个链表有环。</strong></p>

        <p style="margin: 0 0 1.1em; line-height: 1.6;">
          那么找到环的入口，其实需要点简单的数学推理，我在文章中把找环的入口清清楚楚的推理的一遍，如果对找环入口不够清楚的同学建议自己看一看<a
            href="https://programmercarl.com/0142.环形链表II.html"
            style="background: transparent; color: #1980e6; text-decoration: none;" target="_blank">链表：环找到了，那入口呢？</a>。
        </p>



        <h1
          style="font-size: 41.6px; margin: 1.2em 0 .6em 0; font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; text-align: start;">
          N数之和篇</h1>

        <p style="margin: 0 0 1.1em; line-height: 1.6;">在<a href="https://programmercarl.com/0015.三数之和.html"
            style="background: transparent; color: #1980e6; text-decoration: none;"
            target="_blank">哈希表：解决了两数之和，那么能解决三数之和么？</a>中，讲到使用哈希法可以解决1.两数之和的问题</p>

        <p style="margin: 0 0 1.1em; line-height: 1.6;">
          其实使用双指针也可以解决1.两数之和的问题，只不过1.两数之和求的是两个元素的下标，没法用双指针，如果改成求具体两个元素的数值就可以了，大家可以尝试用双指针做一个leetcode上两数之和的题目，就可以体会到我说的意思了。
        </p>

        <p style="margin: 0 0 1.1em; line-height: 1.6;">使用了哈希法解决了两数之和，但是哈希法并不使用于三数之和！</p>

        <p style="margin: 0 0 1.1em; line-height: 1.6;">
          使用哈希法的过程中要把符合条件的三元组放进vector中，然后在去去重，这样是非常费时的，很容易超时，也是三数之和通过率如此之低的根源所在。</p>

        <p style="margin: 0 0 1.1em; line-height: 1.6;">去重的过程不好处理，有很多小细节，如果在面试中很难想到位。</p>

        <p style="margin: 0 0 1.1em; line-height: 1.6;">时间复杂度可以做到O(n^2)，但还是比较费时的，因为不好做剪枝操作。</p>

        <p style="margin: 0 0 1.1em; line-height: 1.6;">所以这道题目使用双指针法才是最为合适的，用双指针做这道题目才能就能真正体会到，<strong
            style="font-weight: bold; line-height: 1.6;">通过前后两个指针不算向中间逼近，在一个for循环下完成两个for循环的工作。</strong></p>

        <p style="margin: 0 0 1.1em; line-height: 1.6;">
          只用双指针法时间复杂度为O(n^2)，但比哈希法的O(n^2)效率高得多，哈希法在使用两层for循环的时候，能做的剪枝操作很有限。</p>

        <p style="margin: 0 0 1.1em; line-height: 1.6;">在<a href="https://programmercarl.com/0018.四数之和.html"
            style="background: transparent; color: #1980e6; text-decoration: none;"
            target="_blank">双指针法：一样的道理，能解决四数之和</a>中，讲到了四数之和，其实思路是一样的，<strong
            style="font-weight: bold; line-height: 1.6;">在三数之和的基础上再套一层for循环，依然是使用双指针法。</strong></p>

        <p style="margin: 0 0 1.1em; line-height: 1.6;">
          对于三数之和使用双指针法就是将原本暴力O(n^3)的解法，降为O(n^2)的解法，四数之和的双指针解法就是将原本暴力O(n^4)的解法，降为O(n^3)的解法。</p>

        <p style="margin: 0 0 1.1em; line-height: 1.6;">同样的道理，五数之和，n数之和都是在这个基础上累加。</p>



        <h1
          style="font-size: 41.6px; margin: 1.2em 0 .6em 0; font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; text-align: start;">
          总结</h1>

        <p style="margin: 0 0 1.1em; line-height: 1.6;">
          本文中一共介绍了leetcode上九道使用双指针解决问题的经典题目，除了链表一些题目一定要使用双指针，其他题目都是使用双指针来提高效率，一般是将O(n^2)的时间复杂度，降为O(n)。 <br />
          建议大家可以把文中涉及到的题目在好好做一做，琢磨琢磨，基本对双指针法就不在话下了。</p>
      </div>

    </span>
  </div>
</body>

</html> 